"use strict";(self.webpackChunkmaterial_pro_angular_lite=self.webpackChunkmaterial_pro_angular_lite||[]).push([[737],{6737:(X,C,l)=>{l.r(C),l.d(C,{UserWalletModule:()=>$});var f=l(4755),m=l(2480),p=l(5861),s=l(9401),_=l(3276),t=l(2223),W=l(5282),h=l(6081),x=l(9114),Z=l(430),A=l(8097),r=l(3627),U=l(3649),y=l(787),I=l(1217);function w(n,a){1&n&&(t.TgZ(0,"div",11),t._UZ(1,"ngx-ui-loader",12),t.qZA()),2&n&&(t.xp6(1),t.Q6J("hasProgressBar",!1))}function D(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"form",14)(2,"mat-form-field",15)(3,"mat-label"),t._uU(4,"Enter User Email"),t.qZA(),t._UZ(5,"input",16),t.qZA()(),t.TgZ(6,"div",17)(7,"button",18),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.findUserWithEmail())}),t._uU(8," Get Wallet Details "),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.walletForm),t.xp6(4),t.Q6J("formControl",e.controls.email)}}function M(n,a){if(1&n&&(t.TgZ(0,"div",19)(1,"div",20),t._UZ(2,"img",21),t.TgZ(3,"div",22)(4,"h5"),t._uU(5),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA()(),t._UZ(8,"div",6),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.AsE("",(null==e.userEmail?null:e.userEmail.firstName)||"--"," ",(null==e.userEmail?null:e.userEmail.lastName)||"--",""),t.xp6(2),t.Oqu((null==e.userEmail?null:e.userEmail.email)||"--")}}function O(n,a){if(1&n&&(t.TgZ(0,"div",23)(1,"div",24)(2,"p",25),t._uU(3),t.qZA(),t.TgZ(4,"p",26),t._uU(5,"Current Balance "),t.qZA()(),t.TgZ(6,"div",24)(7,"p",25),t._uU(8),t.qZA(),t.TgZ(9,"p",26),t._uU(10,"Total Deposit "),t.qZA()(),t.TgZ(11,"div",24)(12,"p",25),t._uU(13),t.qZA(),t.TgZ(14,"p",26),t._uU(15,"Total Withdrawal "),t.qZA()(),t.TgZ(16,"div",24)(17,"p",25),t._uU(18),t.qZA(),t.TgZ(19,"p",26),t._uU(20,"Rewards "),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.hij("$ ",(null==e.userData?null:e.userData.usdtAmount)||"0",""),t.xp6(5),t.hij("$ ",e.totalDeposit||"0",""),t.xp6(5),t.hij("$ ",e.totalWithdrawal||"0",""),t.xp6(5),t.hij("$ ",e.refferalAmount||"0","")}}function b(n,a){1&n&&(t.TgZ(0,"th",45),t._uU(1,"Amount "),t.qZA())}function P(n,a){if(1&n&&(t.TgZ(0,"td",46),t._uU(1),t.TgZ(2,"span",47),t._uU(3,"(USDT)"),t.qZA()()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.usdtAmount," ")}}function N(n,a){1&n&&(t.TgZ(0,"th",45),t._uU(1,"Transaction Type "),t.qZA())}function E(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1," FEE"),t.qZA())}function S(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"DEPOSIT"),t.qZA())}function R(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"REWARDS"),t.qZA())}function J(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"WITHDRAWAL"),t.qZA())}function L(n,a){if(1&n&&(t.TgZ(0,"td",46),t.YNc(1,E,2,0,"span",48),t.YNc(2,S,2,0,"span",48),t.YNc(3,R,2,0,"span",48),t.YNc(4,J,2,0,"span",48),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","COMPANY_COMMISSION"==e.transactionType),t.xp6(1),t.Q6J("ngIf","DEPOSIT"==e.transactionType),t.xp6(1),t.Q6J("ngIf","REFERRAL"==e.transactionType),t.xp6(1),t.Q6J("ngIf","WITHDRAWAL"==e.transactionType)}}function Y(n,a){1&n&&(t.TgZ(0,"th",45),t._uU(1,"Date & Time "),t.qZA())}function F(n,a){if(1&n&&(t.TgZ(0,"td",46),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.createdAt,"MMMM dd, y , hh:mm:ss a")," ")}}function H(n,a){1&n&&t._UZ(0,"tr",49)}function q(n,a){1&n&&t._UZ(0,"tr",50)}function Q(n,a){1&n&&(t.TgZ(0,"tr",51)(1,"td",52),t._uU(2,"No data matching the filter "),t.qZA()())}const z=function(){return[5,10,25,50,75,100]};function k(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28)(2,"h3"),t._uU(3,"Transaction Details"),t.qZA(),t._UZ(4,"div",6),t.TgZ(5,"mat-form-field",29)(6,"mat-label"),t._uU(7,"Transaction Type"),t.qZA(),t.TgZ(8,"mat-select",30),t.NdJ("valueChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.selectedDefaultValue=i)})("selectionChange",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.selectionChange(i))}),t.TgZ(9,"mat-option",31),t._uU(10,"FEE"),t.qZA(),t.TgZ(11,"mat-option",32),t._uU(12,"WITHDRAWAL"),t.qZA(),t.TgZ(13,"mat-option",33),t._uU(14,"DEPOSIT"),t.qZA(),t.TgZ(15,"mat-option",34),t._uU(16,"REWARDS"),t.qZA()()()(),t.TgZ(17,"table",35),t.ynx(18,36),t.YNc(19,b,2,0,"th",37),t.YNc(20,P,4,1,"td",38),t.BQk(),t.ynx(21,39),t.YNc(22,N,2,0,"th",37),t.YNc(23,L,5,4,"td",38),t.BQk(),t.ynx(24,40),t.YNc(25,Y,2,0,"th",37),t.YNc(26,F,3,4,"td",38),t.BQk(),t.YNc(27,H,1,0,"tr",41),t.YNc(28,q,1,0,"tr",42),t.YNc(29,Q,3,0,"tr",43),t.qZA(),t.TgZ(30,"mat-paginator",44),t.NdJ("page",function(i){t.CHM(e);const c=t.oxw();return t.KtG(c.pageChange(i))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(8),t.Q6J("value",e.selectedDefaultValue),t.xp6(9),t.Q6J("dataSource",e.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(2),t.Q6J("length",e.totalLength)("pageSizeOptions",t.DdM(6,z))}}const B=[{path:"",component:(()=>{class n{constructor(e,o,i,c){this.router=e,this.clientService=o,this.ngxService=i,this.navigateRouter=c,this.displayedColumns=["amount","type","createdAt"],this.dataSource=[],this.showLoader=!1,this.transHistory=!1,this.selectedDefaultValue="COMPANY_COMMISSION",this.walletForm=new s.cw({email:new s.NI("",s.kI.required)}),this.router.queryParams.subscribe(g=>{g.userId&&(this.userId=g.userId)});let u=localStorage.getItem("userinfo");u&&(this.parseData=JSON.parse(u)),this.controls=this.walletForm.controls}ngOnInit(){var e=this;return(0,p.Z)(function*(){e.showLoader=!0,e.ngxService.start(),e.initializeFilter(),yield e.getUsersData(),yield e.walletDetails(),yield e.allTransactionHistory(),yield e.transactionHistory(),e.showLoader=!1})()}getUsersData(){var e=this;return(0,p.Z)(function*(){try{const o=yield e.clientService.getWalletUsers(e.parseData.token).toPromise();e.allUserList=o.data.results;const i=e.allUserList.filter(c=>c.id==e.userId);i&&(e.userEmail=i[0])}catch{}finally{e.showLoader=!1}})()}findUserWithEmail(){const e=this.allUserList.filter(o=>o.email==this.walletForm.value.email);e.length>0?(this.userId=e[0].id,this.userEmail=e[0],this.userId&&this.ngOnInit()):alert("Invalid user")}walletDetails(){var e=this;return(0,p.Z)(function*(){if(e.userId)try{const o=yield e.clientService.walletDetails(e.parseData.token,e.userId).toPromise();e.userData=o}catch{}})()}initializeFilter(){this.filter={token:this.parseData.token,userId:this.userId,transactionType:this.selectedDefaultValue,page:1,limit:5}}transactionHistory(){var e=this;return(0,p.Z)(function*(){try{const o=yield e.clientService.userTransactionHistory(e.filter).toPromise();e.dataSource=o.results,e.totalLength=o.count,e.showLoader=!1}catch{}})()}allTransactionHistory(){var e=this;return(0,p.Z)(function*(){const o={token:e.parseData.token,userId:e.userId,page:1,limit:Number.MAX_SAFE_INTEGER};try{const i=yield e.clientService.allTransactionHistory(o).toPromise(),c=i.results.filter(d=>"DEPOSIT"==d.transactionType);let u=0;for(const d of c)u+=d.usdtAmount||0;e.totalDeposit=0!==u?u.toFixed(2):"0";const g=i.results.filter(d=>"WITHDRAWAL"==d.transactionType);let T=0;for(const d of g)T+=d.usdtAmount||0;e.totalWithdrawal=0!==T?T.toFixed(2):"0";const K=i.results.filter(d=>"REFERRAL"==d.transactionType);let v=0;for(const d of K)v+=d.usdtAmount||0;e.refferalAmount=0!==v?v.toFixed(2):"0",e.showLoader=!1}catch{}})()}pageChange(e){this.filter.page=e.pageIndex+1,this.filter.limit=e.pageSize,this.transactionHistory()}selectionChange(e){this.selectedDefaultValue=e.value,this.initializeFilter(),this.transactionHistory()}backToUser(){this.navigateRouter.navigate(["/admin/client"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(m.gz),t.Y36(W.S),t.Y36(h.LA),t.Y36(m.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-wallet"]],viewQuery:function(e,o){if(1&e&&t.Gf(_.NW,7),2&e){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first)}},decls:13,vars:5,consts:[["class","ngxLoader",4,"ngIf"],[1,"main_container"],[1,"flex","pad-8","header"],[1,"flex",2,"align-items","center"],["matTooltip","Back To User",1,"back_arrow",3,"click"],[1,"heading"],[1,"spacer"],["class","email_container",4,"ngIf"],["class","details_container",4,"ngIf"],["class","user_details",4,"ngIf"],["class","table_container",4,"ngIf"],[1,"ngxLoader"],[3,"hasProgressBar"],[1,"email_container"],[1,"pad-16",3,"formGroup"],["appearance","outline",2,"height","60px"],["matInput","","color","primary",3,"formControl"],[1,"btn"],["mat-button","","matTooltip","Get User Wallet Details",1,"buttons",3,"click"],[1,"details_container"],[1,"about_user"],["src","../../../../../../../assets/images/User.png","width","5%"],[1,"user"],[1,"user_details"],[1,"detail"],[1,"para_value"],[1,"para_heading"],[1,"table_container"],[1,"table_headings","flex"],["appearance","outline",1,"type_formField"],["disableRipple","",3,"value","valueChange","selectionChange"],["value","COMPANY_COMMISSION"],["value","WITHDRAWAL"],["value","DEPOSIT"],["value","REFERRAL"],["mat-table","",1,"dataTable",3,"dataSource"],["matColumnDef","amount"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","createdAt"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","5",1,"pagination",3,"length","pageSizeOptions","page"],["mat-header-cell",""],["mat-cell",""],[1,"usdt"],[4,"ngIf"],["mat-header-row",""],["mat-row","",1,"cursor-pointer"],[1,"mat-row"],["colspan","3",1,"pad-16",2,"text-align","center"]],template:function(e,o){1&e&&(t.YNc(0,w,2,1,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon",4),t.NdJ("click",function(){return o.backToUser()}),t._uU(5,"arrow_back"),t.qZA(),t.TgZ(6,"p",5),t._uU(7,"Wallet Details"),t.qZA()(),t._UZ(8,"div",6),t.qZA(),t.YNc(9,D,9,2,"div",7),t.YNc(10,M,9,3,"div",8),t.YNc(11,O,21,4,"div",9),t.YNc(12,k,31,7,"div",10),t.qZA()),2&e&&(t.Q6J("ngIf",o.showLoader),t.xp6(9),t.Q6J("ngIf",!o.userId),t.xp6(1),t.Q6J("ngIf",o.userId),t.xp6(1),t.Q6J("ngIf",o.userId),t.xp6(1),t.Q6J("ngIf",o.userId))},dependencies:[f.O5,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,h.Eo,x.KE,x.hX,Z.Hw,A.Nt,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,r.Ee,_.NW,U.gM,y.gD,I.ey,f.uU],styles:[".main_container[_ngcontent-%COMP%]{padding:0 10px}.email_container[_ngcontent-%COMP%]{width:100%;background-color:#fff;display:grid;grid-template-columns:80% 20%;align-items:center;box-shadow:#0000003d 0 2px 5px;border-radius:4px}.details_container[_ngcontent-%COMP%]{width:100%;background-color:#fff;align-items:center;box-shadow:#0000003d 0 2px 5px;border-radius:4px}.about_user[_ngcontent-%COMP%]{display:flex;padding:15px;align-items:center}.about_user[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{margin-left:5px}.about_user[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;text-transform:capitalize;color:#33475b}.about_user[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#687888}.btn[_ngcontent-%COMP%]{text-align:center}.buttons[_ngcontent-%COMP%]{border:1px solid #CCCBCB;width:auto;border-radius:3px;background-color:#fff;color:#635d5d;font-weight:600;margin-right:10px;height:36px;margin-bottom:10px;cursor:pointer}.buttons[_ngcontent-%COMP%]:hover{border:1px solid #1e88e5;color:#1e88e5}.user_details[_ngcontent-%COMP%]{width:100%;margin-top:15px;display:grid;grid-template-columns:24.5% 24.5% 24.5% 24.5%;gap:8px;border-radius:4px}.user_details[_ngcontent-%COMP%]   .detail[_ngcontent-%COMP%]{margin-right:10px;background-color:#fff;box-shadow:#0000003d 0 2px 5px;text-align:center;padding:25px;border-radius:4px}.para_value[_ngcontent-%COMP%]{font-size:35px;font-weight:600;margin:0;color:#33475b}.para_heading[_ngcontent-%COMP%]{color:#687888;font-size:16px;font-weight:500;margin:0}.table_container[_ngcontent-%COMP%]{width:100%;background-color:#fff;box-shadow:#0000003d 0 2px 5px;border-radius:4px;margin-top:15px}.table_container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#33475b;padding-left:10px}.type_formField[_ngcontent-%COMP%]{width:220px;margin-top:12px;margin-right:10px}.usdt[_ngcontent-%COMP%]{font-size:10px;font-weight:700}.back_arrow[_ngcontent-%COMP%]:hover{color:#1e88e5;cursor:pointer}"]}),n})()}];let j=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(B),m.Bz]}),n})();var G=l(5580),V=l(9383);let $=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.ez,j,s.u5,s.UX,h.Js,G.Is,x.lN,Z.Ps,A.c,r.p0,_.TU,V.g0,U.AV,y.LD]}),n})()}}]);