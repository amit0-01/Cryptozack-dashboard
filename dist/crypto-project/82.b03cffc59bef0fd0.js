"use strict";(self.webpackChunkmaterial_pro_angular_lite=self.webpackChunkmaterial_pro_angular_lite||[]).push([[82],{5082:(b,f,o)=>{o.r(f),o.d(f,{WithdrawalRequestModule:()=>K});var c=o(4755),h=o(9401),m=o(6081),g=o(5580),x=o(9114),R=o(430),w=o(8097),i=o(3627),p=o(3276),v=o(9383),q=o(3649),C=o(2480),N=o(1634),t=o(2223),d=o(3144),_=o(4004),T=o(2548);let A=(()=>{class e{constructor(n){this.http=n}getWithdrawalRequests(n){const s=`${T.ij.LIVE_URL}/wallet/get-withdrawal-request`,l=new d.WM({Authorization:`Bearer ${n.token}`}),r=(new d.LE).set("page",n.page).set("limit",n.limit);return this.http.get(s,{headers:l,params:r}).pipe((0,_.U)(u=>u.data))}approveRequest(n){return this.http.post(`${T.ij.LIVE_URL}/wallet/withdrawal-amount`,{requestId:n}).pipe((0,_.U)(r=>r))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(d.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Z=o(2018);function U(e,a){1&e&&(t.TgZ(0,"div",21),t._UZ(1,"ngx-ui-loader",22),t.qZA()),2&e&&(t.xp6(1),t.Q6J("hasProgressBar",!1))}function D(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Name "),t.qZA())}function Y(e,a){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.AsE(" ",n.user.firstName||"--"," ",n.lastName," ")}}function y(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Email"),t.qZA())}function S(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.user.email||"--"," ")}}function W(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Wallet Address"),t.qZA())}function I(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.walletAddress||"--"," ")}}function M(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Amount "),t.qZA())}function Q(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" $ ",n.amount/1e6||"--"," ")}}function B(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Status"),t.qZA())}function E(e,a){1&e&&(t.TgZ(0,"span",28),t._uU(1," PENDING "),t.qZA())}function L(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"ACCEPTED"),t.qZA())}function z(e,a){if(1&e&&(t.TgZ(0,"td",25),t.YNc(1,E,2,0,"span",26),t.YNc(2,L,2,0,"ng-template",null,27,t.W1O),t.qZA()),2&e){const n=a.$implicit,s=t.MAs(3);t.xp6(1),t.Q6J("ngIf","PENDING"===n.status)("ngIfElse",s)}}function J(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Date & Time "),t.qZA())}function $(e,a){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.createdAt,"MMMM dd, y , hh:mm:ss a")," ")}}function j(e,a){1&e&&(t.TgZ(0,"th",23),t._uU(1,"Action "),t.qZA())}function F(e,a){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"mat-icon",30),t.NdJ("click",function(){t.CHM(n);const l=t.oxw().$implicit,r=t.oxw();return t.KtG(r.approveRequest(l.id))}),t._uU(2,"check_circle_outline "),t.qZA(),t.BQk()}}function O(e,a){if(1&e&&(t.TgZ(0,"td",25),t.YNc(1,F,3,0,"ng-container",29),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("ngIf","PENDING"==n.status)}}function P(e,a){1&e&&t._UZ(0,"tr",31)}function G(e,a){1&e&&t._UZ(0,"tr",32)}function H(e,a){1&e&&(t.TgZ(0,"tr",33)(1,"td",34),t._uU(2,"No data matching the filter "),t.qZA()())}const V=function(){return[15,25,50,75,100]},X=[{path:"",component:(()=>{class e{constructor(n,s,l,r){this.withdrawalService=n,this.ngxService=s,this.matDialog=l,this.toastr=r,this.displayedColumns=["name","email","address","amount","status","time","action"],this.dataSource=[],this.showLoader=!1;let u=localStorage.getItem("userinfo");u&&(this.parseData=JSON.parse(u))}ngOnInit(){this.initializeFilter(),this.getWithdrawalRequests()}initializeFilter(){this.filter={token:this.parseData.token,page:1,limit:15}}getWithdrawalRequests(){this.showLoader=!0,this.ngxService.start(),this.withdrawalService.getWithdrawalRequests(this.filter).subscribe(n=>{this.dataSource=n.results,this.paginator.length=n.count,this.showLoader=!1},n=>{this.showLoader=!1})}approveRequest(n){this.matDialog.open(N.w,{width:"300px"}).afterClosed().subscribe(s=>{1==s&&this._approveRequest(n)})}_approveRequest(n){this.withdrawalService.approveRequest(n).subscribe(s=>{s&&(this.initializeFilter(),this.getWithdrawalRequests())})}pageChange(n){this.filter.page=n.pageIndex+1,this.filter.limit=n.pageSize,this.getWithdrawalRequests()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(A),t.Y36(m.LA),t.Y36(g.uw),t.Y36(Z._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-requests"]],viewQuery:function(n,s){if(1&n&&t.Gf(p.NW,7),2&n){let l;t.iGM(l=t.CRH())&&(s.paginator=l.first)}},decls:33,vars:6,consts:[["class","ngxLoader",4,"ngIf"],[1,"main_container"],[1,"flex","pad-8","header"],[1,"heading"],[1,"spacer"],[2,"margin-top","10px"],["mat-table","",1,"dataTable",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","capital",4,"matCellDef"],["matColumnDef","email"],["mat-cell","",4,"matCellDef"],["matColumnDef","address"],["matColumnDef","amount"],["matColumnDef","status"],["matColumnDef","time"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["pageSize","15",1,"pagination",3,"pageSizeOptions","page"],[1,"ngxLoader"],[3,"hasProgressBar"],["mat-header-cell",""],["mat-cell","",1,"capital"],["mat-cell",""],["style","color: #f5bb8c;",4,"ngIf","ngIfElse"],["acceptedStatus",""],[2,"color","#f5bb8c"],[4,"ngIf"],["matTooltip","Approve Request",1,"pointer","success",3,"click"],["mat-header-row",""],["mat-row","",1,"cursor-pointer"],[1,"mat-row"],["colspan","5",1,"pad-16",2,"text-align","center"]],template:function(n,s){1&n&&(t.YNc(0,U,2,1,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"p",3),t._uU(4,"Withdrawal Requests"),t.qZA(),t._UZ(5,"div",4),t.qZA(),t.TgZ(6,"div",5)(7,"table",6),t.ynx(8,7),t.YNc(9,D,2,0,"th",8),t.YNc(10,Y,2,2,"td",9),t.BQk(),t.ynx(11,10),t.YNc(12,y,2,0,"th",8),t.YNc(13,S,2,1,"td",11),t.BQk(),t.ynx(14,12),t.YNc(15,W,2,0,"th",8),t.YNc(16,I,2,1,"td",11),t.BQk(),t.ynx(17,13),t.YNc(18,M,2,0,"th",8),t.YNc(19,Q,2,1,"td",11),t.BQk(),t.ynx(20,14),t.YNc(21,B,2,0,"th",8),t.YNc(22,z,4,2,"td",11),t.BQk(),t.ynx(23,15),t.YNc(24,J,2,0,"th",8),t.YNc(25,$,3,4,"td",11),t.BQk(),t.ynx(26,16),t.YNc(27,j,2,0,"th",8),t.YNc(28,O,2,1,"td",11),t.BQk(),t.YNc(29,P,1,0,"tr",17),t.YNc(30,G,1,0,"tr",18),t.YNc(31,H,3,0,"tr",19),t.qZA(),t.TgZ(32,"mat-paginator",20),t.NdJ("page",function(r){return s.pageChange(r)}),t.qZA()()()),2&n&&(t.Q6J("ngIf",s.showLoader),t.xp6(7),t.Q6J("dataSource",s.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(5,V)))},dependencies:[c.O5,m.Eo,R.Hw,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,i.Ee,p.NW,q.gM,c.uU],styles:[".main_container[_ngcontent-%COMP%]{padding:0 10px}.usdt[_ngcontent-%COMP%]{font-size:10px;font-weight:700}"]}),e})()}];let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[C.Bz.forChild(X),C.Bz]}),e})(),K=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez,h.u5,h.UX,m.Js,g.Is,x.lN,R.Ps,w.c,i.p0,p.TU,v.g0,q.AV,k,Z.Rh.forRoot()]}),e})()}}]);